<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="review.model.Review">
	<select id = "GetReviewByTid" resultType = "review.model.ReviewBean">
	select * from review
	where tid = #{id}
	</select>
	<select id = "GetAverageReview" resultType = "double">
	select avg(rating) from review
	where tid = #{id}
	</select>
	<select id = "GetHasReviewById" resultType = "String">
		select distinct hasReview from review
		where tid = #{id}	
	</select>
	<insert id = "InsertBaseValue">
		insert into review(renum, mid, tid, hasReview) values(rvseq.nextval, 'admin', #{id}, 'N')
	</insert>
</mapper>