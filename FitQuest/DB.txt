
-- È¸¿ø Á¤º¸
drop table MEMBER cascade constraints;

create table member(
    id varchar2(100) primary key, --ì•„ì´ë””
    mtype varchar2(100) not null, --íŠ¸ë ˆì´ë„ˆ or ì¼ë°˜ íšŒì›
    name varchar2(100) not null, --ì´ë¦„
    password varchar2(100) not null, --ë¹„ë°€ë²ˆí˜¸
    nickname varchar2(100) not null, --ë³„ëª…
    birth date, --ìƒë…„ì›”ì¼
    mphone varchar2(100), --íœ´ëŒ€ì „í™”
    email varchar2(100) not null, --ì´ë©”ì¼
    maddr1 varchar2(500), --ì£¼ì†Œ1
    maddr2 varchar2(100) --ì£¼ì†Œ2
);

insert into member(id,mtype,name,password,nickname,birth,mphone,email,maddr1,maddr2)
		values('hong','member','È«±æµ¿','qwerty1!','È«½Ã','1990-09-09','01090909090','hong@fitquest.com','¼­¿ï Áß±¸ ºÏÃ¢µ¿ 136','1Ãş');
insert into member(id,mtype,name,password,nickname,birth,mphone,email,maddr1,maddr2)
		values('kim','trainer','È«±æµ¿','1234','È«½Ã','1991-09-09','01090909090','kim@fitquest.com','¼­¿ï Áß±¸ ºÏÃ¢µ¿ 136','2Ãş');

select * from MEMBER;
commit;

 
-- °Ô½ÃÆÇ
drop table BOARD cascade constraints;
CREATE TABLE BOARD (
   Bnum   number   primary key,
   ID varchar2 references MEMBER(ID) on delete cascade, -- È¸¿ø¾ÆÀÌµğ 
   btype   varchar2   NOT NULL,
   bcategory   varchar2   NOT NULL,
   Bsubject   varchar2   NOT NULL,
   Bregdate   date   NOT NULL   DEFAULT sysdate,
   Breadcount   number   NOT NULL   DEFAULT 0,
   Bref   number,
   Brestep   number,
   Brelevel   number,
   Bcontent   varchar2   NOT NULL,
   Bimage   varchar2
);

select * from BOARD;
commit;


-- Ã¥°¥ÇÇ
drop table SCRAP cascade constraints;
CREATE TABLE SCRAP (
   Snum number   primary key, --Ã¥°¥ÇÇ °íÀ¯¹øÈ£
   ID varchar2 references MEMBER(ID) on delete cascade, -- È¸¿ø¾ÆÀÌµğ 
   Bnum number   NOT NULL -- °Ô½ÃÆÇ¹øÈ£
);

select * from SCRAP;
commit;

-- ´ñ±Û
drop table COMMENT cascade constraints;
CREATE TABLE COMMENT (
   cnum number   primary key, --´ñ±Û °íÀ¯¹øÈ£
   Bnum varchar2 references BOARD(Bnum) on delete cascade, -- °Ô½ÃÆÇ ¹øÈ£
   Bnum number   NOT NULL, --°Ô½ÃÆÇ °íÀ¯¹øÈ£
   ID varchar2 references MEMBER(ID) on delete cascade, -- È¸¿ø¾ÆÀÌµğ 
   cregdate date NOT NULL DEFAULT sysdate,
   cref   number   NOT NULL,
   crestep   number   NOT NULL,
   crelevel   number   NOT NULL,
   Ccontent   varchar2   NOT NULL
);

select * from COMMENT;
commit;







-- Æ®·¹ÀÌ³Ê 
drop table trainer cascade constraints;
CREATE TABLE trainer (
   ID varchar2(30) references MEMBER(ID) on delete cascade primary key, -- È¸¿ø¾ÆÀÌµğ 
   gnum   number NOT NULL, --Çï½ºÀå ¹øÈ£
   activity   varchar2(30)   NOT NULL, --¿îµ¿ Ä«Å×°í¸®
   purpose   varchar2(30)   NOT NULL, --¿îµ¿ ¸ñÀû
   intro   varchar2(500)   NOT NULL, -- ¼Ò°³ ³»¿ë
   exp   varchar2(50)   NOT NULL, --°æ·Â
   timage   varchar2(50) --Æ®·¹ÀÌ³Ê »çÁø
);

insert into trainer values('kim', 1, 'PT', 'Ã¼Áß', 'hi~','°³ÀÎ pt 30³â', '.');
select * from trainer;
commit;


-- Çï½ºÀå 
drop sequence gseq;
create sequence gseq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;  
  
drop table gym cascade constraints;
CREATE TABLE gym (
   gnum   number   primary key, --Çï½ºÀå ¹øÈ£
   gname   varchar2(40)   NOT NULL, --Çï½ºÀå¸í
   gaddr1   varchar2(60)   NOT NULL, --Çï½ºÀå ÁÖ¼Ò1
   gaddr2   varchar2(60)   NOT NULL, --Çï½ºÀå ÁÖ¼Ò2
   gphone   varchar2(60)   NOT NULL --Çï½ºÀå ÀüÈ­¹øÈ£
);

select * from gym;
commit;


-- »óÇ°
drop sequence pseq;
create sequence pseq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
drop table product cascade constraints;
CREATE TABLE product (
   pnum   number   primary key, --»óÇ°¹øÈ£
   ID varchar2(30) references MEMBER(ID) on delete cascade, -- È¸¿ø¾ÆÀÌµğ 
   price   number   NOT NULL, --»óÇ° °¡°İ
   months   number   NOT NULL, --È¸¿ø±Ç »ç¿ë±â°£
   pcount   number   NOT NULL, --È¸¿ø±Ç »ç¿ë°¹¼ö
   people   number   NOT NULL, --¼ö¾÷ Âü¿© È¸¿ø °¹¼ö
   ptype   varchar2(15)   NOT NULL, --°³ÀÎ, ±×·ì ¼ö¾÷ ±¸ºĞ "group"/"ind"
   ptime   number   NOT NULL --¼ö¾÷ ½Ã°£±æÀÌ
);

select * from product;
commit;


-- ÁÖ¹®
drop sequence oseq;
create sequence oseq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
drop table order cascade constraints;
CREATE TABLE order (
   onum   number   primary key, --ÁÖ¹®¹øÈ£
   ID   varchar2(30)   NOT NULL, --ÁÖ¹®ÇÑ È¸¿ø ¾ÆÀÌµğ
   odate   date   NOT NULL, --ÁÖ¹® ³¯Â¥
);

select * from order;
commit;


-- ÁÖ¹®³»¿ª
drop sequence odseq;
create sequence odseq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
drop table orderdetail cascade constraints;
CREATE TABLE orderdetail (
   odnum   number   primary key, --ÁÖ¹®³»¿ª ¹øÈ£
   pnum   number   NOT NULL, --»óÇ° ¹øÈ£
   onum   number   NOT NULL --ÁÖ¹®¹øÈ£
);

select * from orderdetail;
commit;







-- PT»ç¿ë±Ç
drop sequence useq;
create sequence useq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
drop table usage cascade constraints;
CREATE TABLE usage (
   unum   number   primary key, --»ç¿ë±Ç¹øÈ£
   pnum   number   NOT NULL, --»óÇ°¹øÈ£
   tid(30) varchar2 references TRAINER(ID) on delete cascade, --Æ®·¹ÀÌ³Ê ¾ÆÀÌµğ
   mid(30) varchar2 references MEMBER(ID) on delete cascade, -- È¸¿ø¾ÆÀÌµğ 
   usage   number   NOT NULL --³²Àº È½¼ö
);

select * from usage;
commit;



-- pt ¿¹¾à
drop sequence reseq;
create sequence reseq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
drop table reservation cascade constraints;
CREATE TABLE reservation (
   rnum   number   primary key, --¿¹¾à¹øÈ£
   ID varchar2(30) references MEMBER(ID) on delete cascade, -- È¸¿ø¾ÆÀÌµğ 
   onum   number   NOT NULL, --ÁÖ¹®¹øÈ£
   unum   number   NOT NULL,--»ç¿ë±Ç¹øÈ£
   rdate   date   NULL, --¿¹¾à ³¯Â¥
   rtime varchar2(15) NULL --¿¹¾à ½Ã°£ "00:00am"
);

select * from reservation;
commit;







-- È¸¿øº° ¿îµ¿Á¤º¸
drop sequence hseq;
create sequence hseq
  increment by 1
  start with 1
  minvalue 1
  nocache;

drop table health cascade constraints;
CREATE TABLE health (
   hnum   number   primary key, -- ¿îµ¿Á¤º¸ ¹øÈ£
   ID varchar2(100) references MEMBER(ID) on delete cascade, -- È¸¿ø¾ÆÀÌµğ 
   hdate   date   NOT NULL, --¿îµ¿ÀÏÀÚ
   hname   varchar2(30)   NOT NULL, --¿îµ¿¸í
   starttime   date, --½ÃÀÛ½Ã°£
   endtime   date --Á¾·á½Ã°£
);

select * from health;
commit;


-- È¸¿øº° ½Ä´Ü Á¤º¸
drop sequence nseq;
create sequence nseq
  increment by 1
  start with 1
  minvalue 1
  nocache;
  
drop table nutrition cascade constraints;
CREATE TABLE nutrition (
   nnum   number   primary key, --½Ä´Ü¹øÈ£
   ID varchar2(100) references MEMBER(ID) on delete cascade, -- È¸¿ø¾ÆÀÌµğ 
   fnum   number   NOT NULL, --À½½Ä¹øÈ£
   mealtype   VARCHAR(10), -- ¾ÆÄ§ Á¡½É Àú³á ±âÅ¸
   nutritiondate   date --½Ä»çÀÏÀÚ
);

select * from nutrition;
commit;


-- À½½ÄÁ¤º¸
drop sequence fseq;
create sequence fseq
  increment by 1
  start with 1
  minvalue 1
  nocache;
  
drop table food cascade constraints;
CREATE TABLE food (
   fnum   number primary key, --À½½Ä¹øÈ£
   fname   varchar2(50), --À½½ÄÀÌ¸§
   fweight number default 0.0, -- À½½Ä¹«°Ô
   calories   number, --Ä®·Î¸®
   carbohydrate   number, --Åº¼öÈ­¹°
   protein   number, --´Ü¹éÁú
   fat   number, --Áö¹æ
   saturatedfat   number, --Æ÷È­Áö¹æ
   sodium   number --³ªÆ®·ı
);

select * from food;
commit;


-- ½ÅÃ¼Á¤º¸
drop sequence phseq;
create sequence phseq
  increment by 1
  start with 1
  minvalue 1
  nocache;
  
drop table physique cascade constraints;
CREATE TABLE physique (
   phnum   number   primary key, --½ÅÃ¼¹øÈ£
   ID   varchar2(100)   NOT NULL, --¾ÆÀÌµğ
   height   number default 0.0, --½ÅÀå(cm)
   weight   number default 0.0, --Ã¼Áß(kg)
   BMI   number default 0.0, --bmi
   phdate   date, --ÃøÁ¤ÀÏ
   skeletalmuscle   number default 0.0, --°ñ°İ±Ù·®(kg)
   bodyfatper   number default 0.0, --Ã¼Áö¹æ·ü(%)
   bmr   int --±âÃÊ´ë»ç·®(kcal)
);


select * from physique;
commit;








-- ½Å°í Å×ÀÌºí
drop table Report cascade constraints;
CREATE TABLE Report (
   renum   number   primary key,
   Bnum   number   NOT NULL,
   ID varchar2 references MEMBER(ID) on delete cascade, -- È¸¿ø¾ÆÀÌµğ 
   status   varchar2   NOT NULL,
   content   varchar2   NOT NULL
);

select * from Report;
commit;


--¹®ÀÇ Å×ÀÌºí
drop sequence qseq;
create sequence qseq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
drop table question cascade constraints;
CREATE TABLE question (
   qnum   number   primary key, --¹®ÀÇ ¹øÈ£
   ID varchar2(30) references MEMBER(ID) on delete cascade, -- È¸¿ø¾ÆÀÌµğ 
   qdate   date   NOT NULL, --¹®ÀÇ ³¯Â¥ 
   qcontent   varchar2(500)   NOT NULL, --¹®ÀÇ ³»¿ë
   qsubject   varchar2(60)   NOT NULL, --¹®ÀÇ Á¦¸ñ
   qstatus   varchar2(20)  NOT NULL --¹®ÀÇ ´äº¯ »óÅÂ "answered" / "unanswered"
);

select * from question;
commit;


--¹®ÀÇ ´äº¯
drop sequence qcseq;
create sequence qcseq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
drop table QComment cascade constraints;
CREATE TABLE QComment (
   qcnum   number primary key,
   qnum   number   NOT NULL,
   qcomment   varchar2(500),
   qcdate   date
);

select * from QComment;
commit;



--¸®ºä Å×ÀÌºí
drop sequence rvseq;
create sequence rvseq
  increment by 1
  start with 1
  minvalue 1
  maxvalue 10000
  nocache;
  
drop table review cascade constraints;
CREATE TABLE review (
	renum number primary key,
	userid varchar2(30),
	pnum number,
	trainerid varchar2(30),
	rating number,
	rcontent varchar2(500),
	rdate date default sysdate	
);
select * from review;
commit;